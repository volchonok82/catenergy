!function(){"use strict";var e,t,n;(e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}}).any()?document.documentElement.classList.add("_touch"):document.documentElement.classList.add("_pc"),t=function(e){var t=!0===e?"_webp":"_no-webp";document.documentElement.classList.add(t)},(n=new Image).onload=n.onerror=function(){t(2==n.height)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",0==(window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1)||(alert("Ваш браузер не поддерживается, страница может отображаться некорректно!"),document.documentElement.classList.add("_ie"));var i=document.querySelectorAll("._lockfix"),o=window.innerWidth-document.querySelector("._body-wrapper").offsetWidth+"px";function r(){if(i.length>0)for(var e=0;e<i.length;e++)i[e].style.paddingRight=o;document.body.style.paddingRight=o,document.body.classList.add("_lock"),setTimeout((function(){}),10)}function a(){setTimeout((function(){if(i.length>0)for(var e=0;e<i.length;e++)i[e].style.paddingRight="0px";document.body.style.paddingRight="0px",document.body.classList.remove("_lock")}),0),setTimeout((function(){}),10)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.target.closest("a"),i=n.getAttribute("href");if("#"==i[0]&&i.length>1){e.preventDefault();var o=document.querySelector(i);if(o)if(t){var r=o.getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:r,behavior:"smooth"})}else o.scrollIntoView({behavior:"smooth"})}"#"==i[0]&&1==i.length&&e.preventDefault()}function s(e){this.type=e}s.prototype.init=function(){var e=this,t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var n=0;n<this.nodes.length;n++){var i=this.nodes[n],o=i.dataset.da.trim().split(","),r={};r.element=i,r.parent=i.parentNode,r.destination=document.querySelector(o[0].trim()),r.breakpoint=o[1]?o[1].trim():"767",r.place=o[2]?o[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.оbjects.push(r)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(var a=function(n){var i=e.mediaQueries[n],o=String.prototype.split.call(i,","),r=window.matchMedia(o[0]),a=o[1],c=Array.prototype.filter.call(e.оbjects,(function(e){return e.breakpoint===a}));r.addListener((function(){t.mediaHandler(r,c)})),e.mediaHandler(r,c)},c=0;c<this.mediaQueries.length;c++)a(c)},s.prototype.mediaHandler=function(e,t){if(e.matches)for(var n=0;n<t.length;n++){var i=t[n];i.index=this.indexInParent(i.parent,i.element),this.moveTo(i.place,i.element,i.destination)}else for(var o=0;o<t.length;o++){var r=t[o];r.element.classList.contains(this.daClassname)&&this.moveBack(r.parent,r.element,r.index)}},s.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},s.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},s.prototype.indexInParent=function(e,t){var n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},s.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))},new s("max").init();var l=document.getElementById("form");function d(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function u(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function m(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}l&&l.addEventListener("submit",(function(e){e.preventDefault(),0===function(e){for(var t=0,n=document.querySelectorAll("._req"),i=0;i<n.length;i++){var o=n[i];u(o),o.classList.contains("_email")?m(o)&&(d(o),t++):("checkbox"===o.getAttribute("type")&&!1===o.checked||""===o.value)&&(d(o),t++)}return t}()?(l.classList.add("_sending"),setTimeout((function(){console.log("sending ok!"),l.classList.remove("_sending"),l.reset()}),3e3)):alert("Проверьте красные поля")}));var f=document.getElementById("formImage"),p=document.getElementById("formPreview");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}f&&p&&f.addEventListener("change",(function(){!function(e){if(!["image/jpeg","image/png","image/gif"].includes(e.type))return alert("Разрешены только изображения!"),void(f.value="");if(e.size>2097152)alert("Файл должен быть менее 2мб.");else{var t=new FileReader;t.onload=function(e){p.innerHTML='<img src="'.concat(e.target.result,'" alt="Фото">')},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)}}(f.files[0])})),"object"===("undefined"==typeof google?"undefined":v(google))&&"object"===v(google.maps)&&function(){var e={lat:59.93880784575244,lng:30.323036669716675},t={center:e,zoom:17};window.innerWidth>=990.9&&(t.center={lat:59.93899878958243,lng:30.31940495895494});var n=new google.maps.Map(document.getElementById("map"),t);new google.maps.Marker({map:n,position:e,icon:"img/map-pin.png"})}(),document.addEventListener("click",(function(e){var t=e.target;t.closest(".filter__button")&&function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",o=document.querySelectorAll(t),r=e.closest(t).dataset.filterName,a=document.querySelectorAll(n);o.forEach((function(e){e.classList.remove("_active")})),e.closest(t).classList.add("_active"),a.forEach((function(e){r==i?e.classList.remove("_hide"):(e.classList.add("_hide"),e.dataset.filterItem=="".concat(r)&&e.classList.remove("_hide"))}))}(t,".filter__button",".filter__item","all"),t.closest(".tabs-button")&&function(e,t,n){var i=document.querySelectorAll(t),o=document.querySelectorAll(".tabs-block"),r=e.closest(t).dataset.tab;i.forEach((function(e){e.classList.remove("_active")})),e.closest(t).classList.add("_active"),o.forEach((function(e){e.classList.remove("_active"),e.dataset.tab==r&&e.classList.add("_active")}))}(t,".tabs-button"),t.closest("a")&&c(e,!0),t.closest(".menu__link")&&t.hasAttribute("href")&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".menu__link",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:".icon-menu",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:".menu__body";arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&n&&(document.querySelectorAll(n).forEach((function(e){e.classList.remove("_active")})),e.target.closest(n).classList.add("_active")),c(e,t);var r=document.querySelector(i),s=document.querySelector(o);r.classList.contains("_active")&&(c(e,t),a(),r.classList.remove("_active"),s.classList.remove("_active"))}(e,!1,!1,".menu__link")}));var h=document.querySelector("#range"),g=(document.querySelector(".example__image--after"),document.querySelector(".example__image--before")),y=window.innerWidth,_=document.querySelector("#check-cat"),b=document.querySelector(".example__range-btn--before"),L=document.querySelector(".example__range-btn--after");function A(){h&&g&&(g.style.width=h.value+"%",h.addEventListener("input",(function(e){g.style.width=e.target.value+"%"})))}y>=767.9&&A(),window.addEventListener("resize",(function(e){g.classList.remove("_hide"),this.window.innerWidth>=767.9?(A(),b.onclick=null,L.onclick=null):(g.removeAttribute("style"),_.checked=!1,b.onclick=function(){_.checked=!1,g.classList.remove("_hide")},L.onclick=function(){_.checked=!0,g.classList.add("_hide")},_&&_.addEventListener("change",(function(){_.checked?g.classList.add("_hide"):g.classList.remove("_hide")})))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".icon-menu",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".menu__body",n=document.querySelector(e),i=document.querySelector(t);function o(){n.classList.remove("_active"),i.classList.remove("_active"),i.removeAttribute("style"),n.ariaExpanded="false",a()}function c(){n.classList.add("_active"),i.classList.add("_active"),n.ariaExpanded="true",r()}n&&i&&n.addEventListener("click",(function(e){var t=window.innerHeight;t<=i.offsetHeight&&i.setAttribute("style","height:".concat(t,"px; overflow: auto")),n.classList.contains("_active")?o():c()})),window.addEventListener("resize",(function(){o()}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".header",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0,i=document.querySelector(e),o=t,r=function(){return window.pageYOffset||document.documentElement.scrollTop},a=function(){return i.classList.contains("_hide")};i&&window.addEventListener("scroll",(function(){r()>n&&!a()&&i.classList.add("_vis"),r()>n&&!a()&&r()>o&&i.classList.add("_hide"),r()<n&&a()&&i.classList.remove("_hide"),0==r()&&i.classList.remove("_vis"),n=r()}))}(".header",100),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".header",t=arguments.length>1?arguments[1]:void 0,n=document.querySelector(e),i=document.querySelector(t);if(n&&i){var o;function e(){o=n.offsetHeight/16+"rem",i.setAttribute("style","padding-top:".concat(o,";"))}e(),window.addEventListener("resize",(function(){e()}))}}(".header","main")}();